# 📊 Плакат: Builder Pattern (Строитель)

## 🎯 Назначение паттерна Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                        BUILDER PATTERN                          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  🏗️ ПОШАГОВОЕ СОЗДАНИЕ СЛОЖНЫХ ОБЪЕКТОВ                        │
│  🔧 ИЗОЛИРУЕТ ПРОЦЕСС КОНСТРУИРОВАНИЯ ОТ ПРЕДСТАВЛЕНИЯ          │
│  🎨 ПОЗВОЛЯЕТ СОЗДАВАТЬ РАЗЛИЧНЫЕ ПРЕДСТАВЛЕНИЯ ОДНОГО ОБЪЕКТА  │
└─────────────────────────────────────────────────────────────────┘

Применение:
┌─────────────────┬───────────────────────────────────────────────┐
│   SQL Query     │ • Пошаговое построение сложных SQL запросов  │
├─────────────────┼───────────────────────────────────────────────┤
│   HTTP Request  │ • Создание HTTP запросов с различными         │
│                 │   параметрами и заголовками                   │
├─────────────────┼───────────────────────────────────────────────┤
│   Configuration │ • Построение конфигурационных объектов        │
├─────────────────┼───────────────────────────────────────────────┤
│   Document      │ • Создание документов с различными форматами  │
├─────────────────┼───────────────────────────────────────────────┤
│   UI Components  │ • Построение сложных UI компонентов           │
└─────────────────┴───────────────────────────────────────────────┘
```

## 🔄 Проблема без Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                    ПРОБЛЕМА: СЛОЖНЫЕ КОНСТРУКТОРЫ              │
└─────────────────────────────────────────────────────────────────┘

❌ ПЛОХО - Telescoping Constructor Anti-pattern:
┌─────────────────────────────────────────────────────────────────┐
│ class HttpRequest {                                             │
│ private:                                                        │
│     std::string url_;                                           │
│     std::string method_;                                        │
│     std::map<std::string, std::string> headers_;               │
│     std::string body_;                                          │
│     int timeout_;                                               │
│     bool followRedirects_;                                      │
│                                                                 │
│ public:                                                         │
│     // Telescoping constructors - плохо!                       │
│     HttpRequest(const std::string& url);                       │
│     HttpRequest(const std::string& url, const std::string& method); │
│     HttpRequest(const std::string& url, const std::string& method, │
│                const std::map<std::string, std::string>& headers); │
│     HttpRequest(const std::string& url, const std::string& method, │
│                const std::map<std::string, std::string>& headers, │
│                const std::string& body);                         │
│     // ... и так далее                                         │
│                                                                 │
│     // Проблемы:                                               │
│     // • Сложно запомнить порядок параметров                   │
│     // • Много перегруженных конструкторов                     │
│     // • Необязательные параметры становятся обязательными    │
│     // • Нарушение принципа единственной ответственности      │
│ };                                                              │
└─────────────────────────────────────────────────────────────────┘
```

## ✅ Решение с Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                    РЕШЕНИЕ: ПОШАГОВОЕ СОЗДАНИЕ                 │
└─────────────────────────────────────────────────────────────────┘

✅ ХОРОШО - Fluent Interface:
┌─────────────────────────────────────────────────────────────────┐
│ class HttpRequest {                                             │
│ private:                                                        │
│     std::string url_;                                           │
│     std::string method_;                                        │
│     std::map<std::string, std::string> headers_;               │
│     std::string body_;                                          │
│     int timeout_;                                               │
│     bool followRedirects_;                                     │
│                                                                 │
│     HttpRequest() = default;                                    │
│     friend class HttpRequestBuilder;                            │
│                                                                 │
│ public:                                                         │
│     void send() { /* отправка запроса */ }                      │
│ };                                                              │
│                                                                 │
│ class HttpRequestBuilder {                                      │
│ private:                                                        │
│     HttpRequest request_;                                       │
│                                                                 │
│ public:                                                         │
│     HttpRequestBuilder& url(const std::string& url) {           │
│         request_.url_ = url;                                    │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequestBuilder& method(const std::string& method) {    │
│         request_.method_ = method;                              │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequestBuilder& header(const std::string& key,          │
│                                const std::string& value) {      │
│         request_.headers_[key] = value;                        │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequestBuilder& body(const std::string& body) {         │
│         request_.body_ = body;                                  │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequestBuilder& timeout(int timeout) {                  │
│         request_.timeout_ = timeout;                            │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequestBuilder& followRedirects(bool follow) {         │
│         request_.followRedirects_ = follow;                     │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequest build() {                                       │
│         return std::move(request_);                             │
│     }                                                           │
│ };                                                              │
└─────────────────────────────────────────────────────────────────┘

Использование:
┌─────────────────────────────────────────────────────────────────┐
│ auto request = HttpRequestBuilder()                            │
│     .url("https://api.example.com/users")                      │
│     .method("POST")                                             │
│     .header("Content-Type", "application/json")                │
│     .header("Authorization", "Bearer token123")                  │
│     .body(R"({"name": "John", "email": "john@example.com"})")   │
│     .timeout(5000)                                              │
│     .followRedirects(true)                                     │
│     .build();                                                   │
│                                                                 │
│ request.send();                                                 │
└─────────────────────────────────────────────────────────────────┘

Преимущества:
✅ Читаемый и понятный код
✅ Гибкость в настройке параметров
✅ Валидация на каждом шаге
✅ Соблюдение принципов SOLID
```

## 🏗️ Структура Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                    СТРУКТУРА ПАТТЕРНА                          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    Product (Продукт)                           │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ class HttpRequest {                                         ││
│  │ private:                                                    ││
│  │     std::string url_;                                       ││
│  │     std::string method_;                                    ││
│  │     std::map<std::string, std::string> headers_;           ││
│  │     std::string body_;                                      ││
│  │     int timeout_;                                           ││
│  │     bool followRedirects_;                                 ││
│  │                                                             ││
│  │     HttpRequest() = default;                                ││
│  │     friend class HttpRequestBuilder;                        ││
│  │                                                             ││
│  │ public:                                                     ││
│  │     void send() { /* отправка */ }                          ││
│  │     void print() { /* отладка */ }                          ││
│  │ };                                                          ││
│  └─────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    Builder (Строитель)                         │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ class HttpRequestBuilder {                                  ││
│  │ private:                                                    ││
│  │     HttpRequest request_;                                   ││
│  │                                                             ││
│  │ public:                                                     ││
│  │     HttpRequestBuilder& url(const std::string& url);       ││
│  │     HttpRequestBuilder& method(const std::string& method); ││
│  │     HttpRequestBuilder& header(const std::string& key,     ││
│  │                                const std::string& value);   ││
│  │     HttpRequestBuilder& body(const std::string& body);     ││
│  │     HttpRequestBuilder& timeout(int timeout);              ││
│  │     HttpRequestBuilder& followRedirects(bool follow);      ││
│  │     HttpRequest build();                                   ││
│  │ };                                                          ││
│  └─────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                    Director (Директор) - опционально            │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ class HttpRequestDirector {                                ││
│  │ private:                                                    ││
│  │     HttpRequestBuilder& builder_;                           ││
│  │                                                             ││
│  │ public:                                                     ││
│  │     HttpRequestDirector(HttpRequestBuilder& builder)       ││
│  │         : builder_(builder) {}                              ││
│  │                                                             ││
│  │     HttpRequest buildGetRequest(const std::string& url) {  ││
│  │         return builder_                                     ││
│  │             .url(url)                                       ││
│  │             .method("GET")                                 ││
│  │             .timeout(3000)                                  ││
│  │             .build();                                       ││
│  │     }                                                       ││
│  │                                                             ││
│  │     HttpRequest buildPostRequest(const std::string& url,    ││
│  │                                 const std::string& body) {  ││
│  │         return builder_                                     ││
│  │             .url(url)                                       ││
│  │             .method("POST")                                 ││
│  │             .header("Content-Type", "application/json")      ││
│  │             .body(body)                                     ││
│  │             .timeout(5000)                                  ││
│  │             .build();                                       ││
│  │     }                                                       ││
│  │ };                                                          ││
│  └─────────────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 Последовательность взаимодействий

```
┌─────────────────────────────────────────────────────────────────┐
│                ПОСЛЕДОВАТЕЛЬНОСТЬ ВЗАИМОДЕЙСТВИЙ               │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┬───────────────────────────────────────────────┐
│   1. Клиент     │ HttpRequestBuilder builder;                  │
│      создает     │                                               │
│      builder    │                                               │
├─────────────────┼───────────────────────────────────────────────┤
│   2. Клиент     │ builder.url("https://api.example.com")        │
│      настраивает│ .method("POST")                              │
│      параметры  │ .header("Content-Type", "application/json")   │
│                 │ .body("{\"data\": \"value\"}")               │
├─────────────────┼───────────────────────────────────────────────┤
│   3. Builder    │ HttpRequest request = builder.build();       │
│      создает     │                                               │
│      объект     │                                               │
├─────────────────┼───────────────────────────────────────────────┤
│   4. Клиент     │ request.send();                               │
│      использует │                                               │
│      объект     │                                               │
└─────────────────┴───────────────────────────────────────────────┘

Диаграмма взаимодействий:
┌─────────────────────────────────────────────────────────────────┐
│  Client ──┐                                                    │
│           │                                                    │
│           ▼                                                    │
│  Builder ──┐                                                   │
│             │                                                   │
│             ▼                                                   │
│  Product ──┐                                                    │
│             │                                                    │
│             ▼                                                    │
│  HttpRequest.send()                                              │
└─────────────────────────────────────────────────────────────────┘
```

## 🎨 Варианты реализации

### 1. Fluent Builder (Рекомендуемый)
```
┌─────────────────────────────────────────────────────────────────┐
│                    FLUENT BUILDER                              │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ class SqlQueryBuilder {                                         │
│ private:                                                        │
│     std::string query_;                                         │
│     std::vector<std::string> conditions_;                      │
│     std::vector<std::string> orderBy_;                         │
│     int limit_;                                                 │
│                                                                 │
│ public:                                                         │
│     SqlQueryBuilder& select(const std::string& columns) {      │
│         query_ = "SELECT " + columns;                           │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     SqlQueryBuilder& from(const std::string& table) {           │
│         query_ += " FROM " + table;                             │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     SqlQueryBuilder& where(const std::string& condition) {      │
│         if (conditions_.empty()) {                              │
│             query_ += " WHERE " + condition;                    │
│         } else {                                                │
│             query_ += " AND " + condition;                      │
│         }                                                       │
│         conditions_.push_back(condition);                       │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     SqlQueryBuilder& orderBy(const std::string& column) {       │
│         orderBy_.push_back(column);                             │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     SqlQueryBuilder& limit(int count) {                         │
│         limit_ = count;                                          │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     std::string build() {                                       │
│         if (!orderBy_.empty()) {                                │
│             query_ += " ORDER BY ";                             │
│             for (size_t i = 0; i < orderBy_.size(); ++i) {     │
│                 if (i > 0) query_ += ", ";                      │
│                 query_ += orderBy_[i];                         │
│             }                                                   │
│         }                                                       │
│         if (limit_ > 0) {                                       │
│             query_ += " LIMIT " + std::to_string(limit_);       │
│         }                                                       │
│         return query_;                                          │
│     }                                                           │
│ };                                                              │
└─────────────────────────────────────────────────────────────────┘

Использование:
┌─────────────────────────────────────────────────────────────────┐
│ auto query = SqlQueryBuilder()                                 │
│     .select("id, name, email")                                 │
│     .from("users")                                              │
│     .where("age > 18")                                          │
│     .where("status = 'active'")                                │
│     .orderBy("name")                                            │
│     .limit(10)                                                  │
│     .build();                                                   │
└─────────────────────────────────────────────────────────────────┘
```

### 2. Step Builder
```
┌─────────────────────────────────────────────────────────────────┐
│                    STEP BUILDER                                │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ class HttpRequest {                                             │
│     // ... поля ...                                            │
│ };                                                              │
│                                                                 │
│ class HttpRequestBuilder {                                      │
│ private:                                                        │
│     HttpRequest request_;                                       │
│                                                                 │
│ public:                                                         │
│     static UrlStep create() {                                   │
│         return UrlStep();                                       │
│     }                                                           │
│ };                                                              │
│                                                                 │
│ class UrlStep {                                                 │
│ private:                                                        │
│     HttpRequest request_;                                       │
│                                                                 │
│ public:                                                         │
│     MethodStep url(const std::string& url) {                    │
│         request_.url_ = url;                                    │
│         return MethodStep(std::move(request_));                 │
│     }                                                           │
│ };                                                              │
│                                                                 │
│ class MethodStep {                                              │
│ private:                                                        │
│     HttpRequest request_;                                       │
│                                                                 │
│ public:                                                         │
│     MethodStep(HttpRequest request) : request_(std::move(request)) {} │
│                                                                 │
│     HeaderStep method(const std::string& method) {              │
│         request_.method_ = method;                               │
│         return HeaderStep(std::move(request_));                 │
│     }                                                           │
│ };                                                              │
│                                                                 │
│ class HeaderStep {                                              │
│ private:                                                        │
│     HttpRequest request_;                                       │
│                                                                 │
│ public:                                                         │
│     HeaderStep(HttpRequest request) : request_(std::move(request)) {} │
│                                                                 │
│     HeaderStep& header(const std::string& key,                 │
│                        const std::string& value) {              │
│         request_.headers_[key] = value;                         │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     HttpRequest build() {                                       │
│         return std::move(request_);                             │
│     }                                                           │
│ };                                                              │
└─────────────────────────────────────────────────────────────────┘

Использование:
┌─────────────────────────────────────────────────────────────────┐
│ auto request = HttpRequestBuilder::create()                    │
│     .url("https://api.example.com")                             │
│     .method("POST")                                             │
│     .header("Content-Type", "application/json")                 │
│     .header("Authorization", "Bearer token")                    │
│     .build();                                                   │
└─────────────────────────────────────────────────────────────────┘
```

### 3. Generic Builder
```
┌─────────────────────────────────────────────────────────────────┐
│                    GENERIC BUILDER                             │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│ template<typename T>                                             │
│ class Builder {                                                  │
│ private:                                                        │
│     T object_;                                                  │
│                                                                 │
│ public:                                                         │
│     template<typename U>                                        │
│     Builder& set(U T::*member, const U& value) {                │
│         object_.*member = value;                                │
│         return *this;                                           │
│     }                                                           │
│                                                                 │
│     T build() {                                                 │
│         return std::move(object_);                              │
│     }                                                           │
│ };                                                              │
│                                                                 │
│ // Использование                                               │
│ struct Person {                                                 │
│     std::string name;                                           │
│     int age;                                                    │
│     std::string email;                                          │
│ };                                                              │
│                                                                 │
│ auto person = Builder<Person>()                                 │
│     .set(&Person::name, "John")                                │
│     .set(&Person::age, 30)                                      │
│     .set(&Person::email, "john@example.com")                    │
│     .build();                                                   │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 Сравнение подходов

```
┌─────────────────────────────────────────────────────────────────┐
│                    СРАВНЕНИЕ ПОДХОДОВ                          │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┬─────────────────┬─────────────────┬─────────────────┐
│   Fluent        │   Step          │   Generic        │   Director       │
│   Builder       │   Builder       │   Builder       │   Builder        │
├─────────────────┼─────────────────┼─────────────────┼─────────────────┤
│ Простота        │ Высокая          │ Средняя         │ Низкая          │
│ Гибкость        │ Высокая          │ Средняя         │ Высокая         │
│ Производительность│ Высокая        │ Средняя         │ Высокая         │
│ Тестируемость   │ Высокая          │ Высокая         │ Средняя         │
│ Типобезопасность│ Средняя          │ Высокая         │ Низкая          │
│ Применимость    │ Стандартные      │ Сложные объекты │ Шаблоны         │
│                 │ случаи          │                 │                 │
└─────────────────┴─────────────────┴─────────────────┴─────────────────┘
```

## 🎯 Когда использовать Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                КОГДА ИСПОЛЬЗОВАТЬ BUILDER                      │
└─────────────────────────────────────────────────────────────────┘

✅ ХОРОШИЕ СЛУЧАИ:
┌─────────────────┬───────────────────────────────────────────────┐
│ Сложные объекты │ • Много параметров конструктора              │
│                 │ • Необязательные параметры                   │
│                 │ • Различные комбинации параметров            │
├─────────────────┼───────────────────────────────────────────────┤
│ Читаемость      │ • Нужен читаемый код                         │
│                 │ • Fluent interface улучшает понимание        │
├─────────────────┼───────────────────────────────────────────────┤
│ Валидация       │ • Нужна валидация на каждом шаге            │
│                 │ • Проверка корректности параметров           │
├─────────────────┼───────────────────────────────────────────────┤
│ Неизменяемость  │ • Создание immutable объектов               │
│                 │ • Thread-safe объекты                        │
├─────────────────┼───────────────────────────────────────────────┤
│ Шаблоны         │ • Создание объектов по шаблонам             │
│                 │ • Director для стандартных конфигураций      │
└─────────────────┴───────────────────────────────────────────────┘

❌ ПЛОХИЕ СЛУЧАИ:
┌─────────────────┬───────────────────────────────────────────────┐
│ Простые объекты │ • Мало параметров конструктора              │
├─────────────────┼───────────────────────────────────────────────┤
│ Производительность│ • Критична производительность создания     │
├─────────────────┼───────────────────────────────────────────────┤
│ Сложность       │ • Добавляется ненужная сложность             │
├─────────────────┼───────────────────────────────────────────────┤
│ Альтернативы    │ • Есть лучшие альтернативы (Factory)        │
└─────────────────┴───────────────────────────────────────────────┘
```

## 🧪 Тестирование Builder

```
┌─────────────────────────────────────────────────────────────────┐
│                    ТЕСТИРОВАНИЕ BUILDER                       │
└─────────────────────────────────────────────────────────────────┘

Преимущества для тестирования:
┌─────────────────┬───────────────────────────────────────────────┐
│ Моки            │ ✅ Легко создавать моки для builder'ов       │
│                 │ class MockHttpRequestBuilder {                │
│                 │     MOCK_METHOD(HttpRequestBuilder&, url, (const std::string&)); │
│                 │     MOCK_METHOD(HttpRequestBuilder&, method, (const std::string&)); │
│                 │     MOCK_METHOD(HttpRequest, build, ());     │
│                 │ };                                            │
├─────────────────┼───────────────────────────────────────────────┤
│ Изоляция        │ ✅ Легко изолировать тесты                   │
│                 │ auto mockBuilder = std::make_unique<MockHttpRequestBuilder>(); │
│                 │ HttpRequestDirector director(*mockBuilder);   │
├─────────────────┼───────────────────────────────────────────────┤
│ Управление      │ ✅ Полный контроль над создаваемыми объектами│
│ зависимостями   │ EXPECT_CALL(*mockBuilder, url("test"))        │
│                 │     .WillOnce(ReturnRef(*mockBuilder));      │
└─────────────────┴───────────────────────────────────────────────┘

Пример теста:
┌─────────────────────────────────────────────────────────────────┐
│ TEST(HttpRequestBuilderTest, BuildGetRequest) {                 │
│     auto request = HttpRequestBuilder()                         │
│         .url("https://api.example.com/users")                  │
│         .method("GET")                                          │
│         .timeout(3000)                                          │
│         .build();                                               │
│                                                                 │
│     EXPECT_EQ(request.getUrl(), "https://api.example.com/users"); │
│     EXPECT_EQ(request.getMethod(), "GET");                      │
│     EXPECT_EQ(request.getTimeout(), 3000);                      │
│ }                                                               │
└─────────────────────────────────────────────────────────────────┘
```

## 🔗 Связь с другими паттернами

```
┌─────────────────────────────────────────────────────────────────┐
│              СВЯЗЬ С ДРУГИМИ ПАТТЕРНАМИ                        │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────┬───────────────────────────────────────────────┐
│ Factory Method  │ • Builder создает объект пошагово            │
│                 │ • Factory Method создает объект в один шаг   │
│                 │ • Builder - сложные объекты                  │
│                 │ • Factory Method - простые объекты          │
├─────────────────┼───────────────────────────────────────────────┤
│ Abstract Factory│ • Builder создает один объект                │
│                 │ • Abstract Factory создает семейства объектов│
│                 │ • Builder - пошаговое создание               │
│                 │ • Abstract Factory - создание семейств      │
├─────────────────┼───────────────────────────────────────────────┤
│ Prototype       │ • Builder создает новые объекты             │
│                 │ • Prototype клонирует существующие объекты  │
│                 │ • Builder - конструирование                 │
│                 │ • Prototype - копирование                    │
├─────────────────┼───────────────────────────────────────────────┤
│ Singleton       │ • Builder может использовать Singleton      │
│                 │ • Singleton может быть builder'ом           │
│                 │ • Вместе обеспечивают глобальный доступ     │
├─────────────────┼───────────────────────────────────────────────┤
│ Command         │ • Builder может создавать Command объекты   │
│                 │ • Command может использовать Builder        │
│                 │ • Builder - создание                        │
│                 │ • Command - выполнение                      │
└─────────────────┴───────────────────────────────────────────────┘
```

## 💡 Практические рекомендации

```
┌─────────────────────────────────────────────────────────────────┐
│                  ПРАКТИЧЕСКИЕ РЕКОМЕНДАЦИИ                     │
└─────────────────────────────────────────────────────────────────┘

1. 🎯 Выбор реализации:
   • Fluent Builder - для большинства случаев
   • Step Builder - для сложных объектов с обязательными шагами
   • Generic Builder - для типизированных случаев
   • Director Builder - для шаблонных конфигураций

2. 🔧 Принципы проектирования:
   • Соблюдайте Single Responsibility Principle
   • Используйте Fluent Interface для читаемости
   • Инкапсулируйте логику валидации
   • Обеспечьте неизменяемость объектов

3. 🧪 Тестирование:
   • Создавайте интерфейсы для builder'ов
   • Используйте моки в тестах
   • Тестируйте различные комбинации параметров
   • Проверяйте валидацию на каждом шаге

4. ⚡ Производительность:
   • Используйте move semantics
   • Избегайте ненужных копирований
   • Рассмотрите кэширование builder'ов
   • Профилируйте критические участки

5. 📚 Документация:
   • Документируйте обязательные и необязательные параметры
   • Описывайте валидацию на каждом шаге
   • Приводите примеры использования
   • Объясняйте причины выбора паттерна

6. 🔄 Рефакторинг:
   • Начинайте с простых builder'ов
   • Постепенно добавляйте сложность
   • Используйте Director для шаблонов
   • Планируйте расширяемость
```

## 🎓 Ключевые выводы

```
┌─────────────────────────────────────────────────────────────────┐
│                      КЛЮЧЕВЫЕ ВЫВОДЫ                          │
└─────────────────────────────────────────────────────────────────┘

✅ Builder - мощный инструмент:
   • Пошаговое создание сложных объектов
   • Улучшает читаемость кода
   • Обеспечивает валидацию на каждом шаге
   • Следует принципам SOLID

✅ Выбирайте подходящую реализацию:
   • Fluent Builder - для большинства случаев
   • Step Builder - для сложных объектов
   • Generic Builder - для типизированных случаев
   • Director Builder - для шаблонов

✅ Используйте правильно:
   • Когда много параметров конструктора
   • Когда нужна читаемость кода
   • Когда важна валидация
   • Когда нужны неизменяемые объекты

✅ Избегайте злоупотребления:
   • Не используйте для простых объектов
   • Не добавляйте сложность без необходимости
   • Не забывайте об обработке ошибок
   • Не нарушайте принципы SOLID

✅ Помните о компромиссах:
   • Читаемость vs производительность
   • Гибкость vs сложность
   • Валидация vs скорость
   • Тестируемость vs производительность
```

---
*Builder - это инструмент для создания сложных объектов пошагово. 
Используйте его для улучшения читаемости и гибкости вашего кода!*